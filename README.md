# tiy-java-gradle-template

This repository contains a template Spring Boot application using Gradle and Postgres. This application is configured in such a way that it can be deployed to a Heroku application.

## Usage

These instructions assume you've already created a Heroku account, installed the `heroku` command line application, and configured it correctly.  

1. Clone or fork this repository.  
2. In the cloned directory run `heroku app:create`. This will create a new application in Heroku and add a remote into your git configuration named "heroku".
3. Create a database and install the Heroku Postgres addon by running `heroku addons:create heroku-postgresql --app {app name}`. Replace `{app name}` with the name of your application in Heroku. For example, "enigmatic-escaprpment-12345".
4. Run `git push heroku master` to deploy your application to Heroku.

## Notes

You can and should use `heroku logs -t` to "tail" (continuously watch) your logs when the application is starting. I like to keep two terminal windows one, one to run my `git push heroku master`, and one where I watch the log output. This is so much nicer than trying to use Heroku's online log viewer.
 
This project is named "template" throughout. If you want to change the name of the jar file generated you can do this (but don't have to):

* Change `baseName = 'template'` to an appropriate name in the build.gradle file. This changes the name of the JAR file that will be generated by Gradle.
* Change the Procfile so that it uses the correct JAR file name now. By default it specifies `build/libs/template-0.0.1-SNAPSHOT.jar`. You'll want to change `template` to match what you set in the previous bullet point. Also, if you change your version numbers you'll want to update the JAR file's name accordingly.

You should be able to name your `@SpringBootApplication` class, `TemplateApplication`, anything you want. Just refactor it accordingly. The same is true for the `TemplateController`.  
 
## Todo

* Provide instructions / change code so that the application will run locally. Right now it wants to use an environment variable named `${JDBC_DATABASE_URL}` to specify the JDBC url. I need to research how to properly handle this in multiple environments, or at least to have it work correctly for the local development environment. 

